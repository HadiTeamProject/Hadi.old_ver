<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>حادي</title>
    <link rel="stylesheet" href="page.css" media="screen">
<link rel="stylesheet" href="index.css" media="screen">    
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,500,500i,700,700i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">

    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"url": "/",
		"logo": "images/hadi_logo-.png"
}</script>
    <meta name="theme-color" content="#848475">
    <meta property="og:title" content="حادي">
    <meta property="og:type" content="website">
    <link rel="canonical" href="/">
  <body data-path-to-root="./" data-include-products="false" class="u-body u-xl-mode" data-lang="en"><header class="u-clearfix u-grey-5 u-header u-header" id="sec-5166"><a href="index.html" class="u-align-right u-image u-logo u-image-1" data-image-width="2114" data-image-height="698" title="حادي">
        <img src="images/hadi_logo-.png" class="u-logo-image u-logo-image-1">
      </a></header> 
    <section class="u-clearfix u-palette-1-light-1 u-section-1" id="sec-c2df">
      <div class="u-clearfix u-sheet u-valign-middle-sm u-sheet-1">
        <div class="u-expanded-height-lg u-expanded-height-md u-expanded-height-xl u-expanded-height-xs u-opacity u-opacity-60 u-palette-1-base u-shape u-shape-rectangle u-shape-1"></div>
        <img src="images/hadi.png" class="u-align-left u-image u-image-1" data-image-width="1194" data-image-height="850">
        <div class="u-align-left u-container-style u-grey-5 u-group u-group-1">
          <div class="u-container-layout u-valign-bottom-xs u-container-layout-1">
            <h1 class="u-align-center u-custom-font u-text u-text-palette-1-base u-text-1">حادي</h1>
            <p class="u-align-center u-custom-font u-text u-text-palette-1-light-1 u-text-2">&nbsp;"نجمَ المسافرِ ورفيقَ المسير" </p>
            <a href="index(1).html" class="u-align-center-xs u-border-none u-btn u-button-style u-custom-font u-hover-palette-1-dark-1 u-palette-1-base u-btn-1">اقرأ المزيد</a>
          </div>
        </div>
        <div class="u-hidden-sm u-hidden-xs u-palette-1-dark-2 u-shape u-shape-circle u-shape-2"></div>
      </div>
    </section>
    <section class="u-align-left u-clearfix u-palette-1-light-1 u-section-2" id="carousel_0b6a">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <div class="data-layout-selected u-clearfix u-expanded-width u-gutter-20 u-layout-wrap u-layout-wrap-1">
          <div class="u-layout">
            <div class="u-layout-row">
              <div class="u-container-style u-layout-cell u-size-30 u-layout-cell-1">
                <div class="u-container-layout u-container-layout-1">
                  <div class="u-absolute-hcenter u-expanded u-grey-light-2 u-map">
                    <div class="embed-responsive" id="googleMap">
                    </div>
                  </div>
                </div>
              </div>
              <div class="u-container-style u-grey-5 u-text-palette-1-base u-layout-cell u-size-30 u-layout-cell-2">
                <div class="u-container-layout u-container-layout-2">
                  <div id="AccidentsDiv" align="right" ></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap"></script>

    <footer class="u-align-center u-clearfix u-footer u-grey-5 u-footer" id="sec-db83"><div class="u-clearfix u-sheet u-valign-bottom-sm u-valign-bottom-xs u-sheet-1">
        <a href="tel:+9665" class="u-active-none u-align-center u-btn u-btn-rectangle u-button-style u-hover-none u-none u-btn-1"><span class="u-icon u-icon-1"><svg class="u-svg-content" viewBox="0 0 405.333 405.333" x="0px" y="0px" style="width: 1em; height: 1em;"><path d="M373.333,266.88c-25.003,0-49.493-3.904-72.704-11.563c-11.328-3.904-24.192-0.896-31.637,6.699l-46.016,34.752    c-52.8-28.181-86.592-61.952-114.389-114.368l33.813-44.928c8.512-8.512,11.563-20.971,7.915-32.64    C142.592,81.472,138.667,56.96,138.667,32c0-17.643-14.357-32-32-32H32C14.357,0,0,14.357,0,32    c0,205.845,167.488,373.333,373.333,373.333c17.643,0,32-14.357,32-32V298.88C405.333,281.237,390.976,266.88,373.333,266.88z"></path></svg></span> Call : +966 5xxxxxxxx
        </a>
        <a href="mailto:HadiProjectTeam@gmail.com" class="u-active-none u-align-center u-btn u-btn-rectangle u-button-style u-hover-none u-none u-text-body-color u-btn-2"><span class="u-icon u-text-black u-icon-2"><svg class="u-svg-content" viewBox="0 0 24 16" x="0px" y="0px" style="width: 1em; height: 1em;"><path fill="currentColor" d="M23.8,1.1l-7.3,6.8l7.3,6.8c0.1-0.2,0.2-0.6,0.2-0.9V2C24,1.7,23.9,1.4,23.8,1.1z M21.8,0H2.2
	c-0.4,0-0.7,0.1-1,0.2L10.6,9c0.8,0.8,2.2,0.8,3,0l9.2-8.7C22.6,0.1,22.2,0,21.8,0z M0.2,1.1C0.1,1.4,0,1.7,0,2V14
	c0,0.3,0.1,0.6,0.2,0.9l7.3-6.8L0.2,1.1z M15.5,9l-1.1,1c-1.3,1.2-3.6,1.2-4.9,0l-1-1l-7.3,6.8c0.2,0.1,0.6,0.2,1,0.2H22
	c0.4,0,0.6-0.1,1-0.2L15.5,9z"></path></svg></span> HadiProjectTeam@gmail.com
        </a>
        <div class="u-align-center u-clearfix u-custom-html u-custom-html-1">
          All Rights Reserved By Hadi Team <script>document.write(new Date().getFullYear());</script> ©.
        </div>
      </div></footer>
      <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
    
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBhrjGV4SKOVnuDwgyJEJR7c707BzAtEGU",
          authDomain: "haditeam-01.firebaseapp.com",
          databaseURL: "https://haditeam-01-default-rtdb.firebaseio.com",
          projectId: "haditeam-01",
          storageBucket: "haditeam-01.appspot.com",
          messagingSenderId: "1023089147577",
          appId: "1:1023089147577:web:2e7f80a8ca57edc6a66568"
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        const db = getDatabase();
        let AccidentsDiv = document.getElementById('AccidentsDiv');
        let accno = 1;
    
        function GetAccidents() {
          const dbref = ref(db);
          get(child(dbref, 'Accidents')).then((accidents) => {
            accidents.forEach(acc => {
              AddAccidents(acc);
            });
          })
        }
    
        function AddAccidents(acc) {
          let key = acc.key;
          let value = acc.val();
    
          // Split the received message by commas
          let accidentData = value.message.split(',');
    
          // Extract values for code, latitude, and longitude
          let code = accidentData[2].trim();
          let lat = parseFloat(accidentData[3].trim());
          let lon = parseFloat(accidentData[4].trim());
    
          let message = document.createElement('h4');
          let heading = document.createElement('h2');
          var status;
          if (code ==1){
             status = "سيارة متوقفة لفترة طويلة ";
          }else if (code == 2){
             status = "حادث سيارة";
          }else if (code ==3){
             status = "حريق سيارة ";
          }
          message.innerHTML = "كود: " + code + "<br>نوع الحادث : " + status ;
          heading.innerHTML = "حادث رقم   " + accno;
          let ul = document.createElement('ul');
          ul.append(heading, message);
          AccidentsDiv.append(ul);
          accno++;
    
          // Add marker to the map
          addMarker(lat, lon, code);
        }
    
        function addMarker(latitude, longitude, code) {
          var myLatlng = new google.maps.LatLng(latitude, longitude);
          var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: 'Accident ' + code
          });
        }
    
        // Initialize the map
        var map;
    
        function myMap() {
          var mapProp = {
            center: new google.maps.LatLng(24.7136, 46.6753),
            zoom: 10,
          };
          map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        }
    
        window.addEventListener('load', function () {
          GetAccidents();
          myMap();
        });
      </script> 
</body></html>
